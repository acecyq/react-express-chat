(this.webpackJsonpwebsocket=this.webpackJsonpwebsocket||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),s=n.n(r),o=(n(12),n(2)),i=n.n(o),u=n(6),l=n(3),p=n(1);n(14);var m=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),o=Object(p.a)(s,2),m=o[0],f=o[1],d=Object(a.useState)(""),v=Object(p.a)(d,2),b=v[0],h=v[1];Object(a.useEffect)((function(){if(b){var e=new WebSocket("ws://localhost:5000");return e.addEventListener("open",(function(){e.send(JSON.stringify({user:b}))})),e.addEventListener("message",(function(e){var t=e.data;r((function(e){return[].concat(Object(l.a)(e),[t])}))})),f(e),function(){e.close()}}}),[b]);var E=Object(a.useState)(""),O=Object(p.a)(E,2),g=O[0],j=O[1],w=Object(a.useState)(""),k=Object(p.a)(w,2),N=k[0],S=k[1],y=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("http://localhost:5000/register",{body:JSON.stringify({name:N}),headers:{"Content-Type":"application/json"},method:"POST"});case 5:if(400!==(t=e.sent).status){e.next=8;break}throw t;case 8:h(N),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:return e.prev=14,S(""),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return b?c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App-messages"},c.a.createElement("ul",{className:"App-message-list"},n.map((function(e,t){return c.a.createElement("li",{key:t},e)})))),c.a.createElement("div",{className:"App-input"},c.a.createElement("input",{className:"App-input-field",onChange:function(e){var t=e.target;j(t.value)},value:g}),c.a.createElement("button",{className:"App-input-send",onClick:function(){m.send(JSON.stringify({message:g})),r((function(e){return[].concat(Object(l.a)(e),["You: ".concat(g)])})),j("")}},"Send"))):c.a.createElement("div",{className:"App-modal"},c.a.createElement("div",{className:"App-modal-box"},c.a.createElement("label",null,"Enter your name:"),c.a.createElement("input",{className:"App-modal-input",onChange:function(e){var t=e.target;S(t.value)},value:N}),c.a.createElement("button",{className:"App-input-send",onClick:y},"Send")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.3d356539.chunk.js.map